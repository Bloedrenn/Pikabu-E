{% extends "base.html" %}

{% block title %}Поиск постов{% endblock title %}

{% block content %}
  <h1>Поиск постов</h1>

  {% comment %} method="GET" Указывать необязательно {% endcomment %}
  <form>
    <input type="text" name="search" placeholder="Введите запрос" value="{{ request.GET.search }}">

    <label>
      <input type="checkbox" name="search_category" {% if request.GET.search_category %}checked{% endif %}>
      Искать в категориях
    </label>

    <label>
      <input type="checkbox" name="search_tag" {% if request.GET.search_tag %}checked{% endif %}>
      Искать в тегах
    </label>

    <button type="submit">Найти</button>
    <button type="reset">Очистить</button>
  </form>

  {% if search_performed %}
    {% if posts %}
      <h2>Найден(-о) {{ paginator.count }} пост(-а, -ов):</h2>
      
      {% for post in posts %}
        {% include 'blog/includes/post_container_include.html' %}
      {% endfor %}

      {% include "blog/includes/pagination_include.html" %}
    {% else %}
      <p>По вашему запросу ничего не найдено.</p>
    {% endif %}
  {% else %}
    <p>Введите запрос для поиска постов</p>
  {% endif %}
{% endblock content %}